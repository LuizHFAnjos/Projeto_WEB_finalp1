<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" th:href="@{/img/logo.png}" type="image/png" />
    <title>Perfil | Biblioteca Online</title>
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Playfair+Display:wght@700&family=Nunito:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="stylesheet" th:href="@{/css/perfil.css}"/>
    <link rel="stylesheet" th:href="@{/css/home-search.css}" />
    <script th:src="@{/js/home-search.js}" defer></script>
  </head>
  <body>
    <div th:replace="~{fragments/header :: header}"></div>

    <main class="wrap">
      <div class="page-title">
        <h1>Perfil</h1>
        <p>Veja os detalhes do seu perfil aqui</p>
      </div>

      <section class="grid-top">
        <article class="card profile-card">
          <div class="avatar" id="profile-avatar">
            <img
              th:src="@{${usuario.fotoPerfil} ?: '/assets/img/user.png'}"
              alt="Foto do usuário"
              class="avatar-img"
            />
          </div>
          <div class="profile-meta">
            <h3 th:text="${usuario.nome}">Nome do Usuário</h3>
            <label class="edit-badge" for="upload-foto">
              <i class="bx bx-edit"></i> editar foto
              <input type="file" id="upload-foto" accept="image/*" hidden />
            </label>
          </div>
        </article>

        <article class="card pad relative">
          <h2>Outros detalhes</h2>
          <button
            class="inline-edit"
            aria-label="Editar detalhes"
            data-open="editar-detalhes"
          >
            <i class="bx bx-edit"></i>
          </button>
          <div class="details">
            <div class="field">
              <b>Nome</b>
              <div th:text="${usuario.nome}">Nome do Usuário</div>
            </div>
            <div class="field">
              <b>E-mail</b>
              <div th:text="${usuario.email}">email@exemplo.com</div>
            </div>
            <div class="field">
              <b>Livros curtidos</b>
              <div th:text="${#lists.size(usuario.livrosCurtidos)}">0</div>
            </div>
          </div>
        </article>
      </section>

        <section class="section">
        <h3>Senha</h3>
        <form th:action="@{/perfil/mudar-senha}" method="post">
            <div class="form-grid">
                </div>
            <div class="row-actions">
                <button class="btn" type="submit">Atualizar</button>
            </div>
        </form>
      </section>

      <section class="section danger">
        <h3>Deletar conta</h3>
        </section>
    </main>

    <div class="popup-overlay" id="editar-detalhes">
        </div>

    <footer class="footer">
        </footer>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script th:src="@{/js/perfil.js}"></script>
    <script th:src="@{/js/script.js}"></script>
  </body>
</html>